# encoding:UTF-8import reimport requestsheaders = {'User-Agent' :'Mozilla/5.0 (Windows NT 10.0; Win64; x64)'}def getPage():    get_url='https://movie.douban.com/top250'    #top=requests.post(get_url)    r=requests.get(get_url)    response = r.text    return responsedef filterpage():    pageCode = getPage()   # print pageCode    pattern = re.compile('<span class="title">(.*?)</span>.*?<span class="rating_num" property="v:average">(.*?)</span>.*?<span class="inq">(.*?)</span>',re.S)    items = re.findall(pattern,pageCode)    pageStories = []    for item in items:        pageStories.append([item[0].strip(),item[1].strip(),item[2].strip()])    return pageStoriesdef main():    pageStories=filterpage()    #print pageStories    for story in pageStories:        print("电影名：%s\t评分：%s\t 简评：%s " % (story[0], story[1], story[2]))if __name__ == '__main__':        main()